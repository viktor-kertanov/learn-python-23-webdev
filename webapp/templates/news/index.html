{% extends "base.html" %}
{% block content %}
    <div class="row">
        <div class="col-8">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="alert alert-warning" role="alert">
                        {% for message in messages %}
                            {{ message }}<br>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
            <h2>Новости</h2>
            <h3>
            {% if news %}
                {% for n in news %}
                    <h3><a href={{n["url"]}}>{{n["title"]}}</a></h3>
                    <p>{{n.published.strftime("%d.%m.%Y")}}</p>
                    <hr/>
                {% endfor %}
            {% else %}
                Нет новостей!
            {% endif %}
            </h3>
        </div>
        <div class="col-4">
            <h2>Погода</h2>
            <h3>
                {% if weather_html %}
                    Погода в {{current_city}}: {{weather_html['temp_C']}}C. Ощущается как {{weather_html['FeelsLikeC']}}C.
                {% else %}
                    Сервис погоды временно недоступен
                {% endif %}
            </h3>
        </div>
    </div>
{% endblock %}